---
import BaseLayout from '../layouts/BaseLayout.astro';
import CategoryNav from '../components/CategoryNav.astro';
import NewsCard from '../components/NewsCard.astro';

import techNews from '../data/news/tech.json';
import aiNews from '../data/news/ai.json';
import economicNews from '../data/news/economic.json';
import githubNews from '../data/news/github.json';
import sportsNews from '../data/news/sports.json';

const allNews = [...techNews, ...aiNews, ...economicNews, ...githubNews, ...sportsNews]
  .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime())
  .slice(0, 20);
---
<BaseLayout>
  <CategoryNav active="all" />
  {allNews.map(article => (
    <NewsCard
      title={article.title}
      url={article.url}
      source={article.source}
      date={article.date}
      summary={article.summary}
    />
  ))}
</BaseLayout>
